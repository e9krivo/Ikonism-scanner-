# Сканер Библиотеки Liconism.com

Приложение разбирает и скачивает библиотеку PDF-документов (книг) Международного научного интернет-проекта 
"Лингвистический Иконизм" и сканирует локальную копию PDF-файлов на соответсвие набору ключевых слов с 
определенными весами. 

Цель работы приложения: поиск книг которые имеют отношение к восточным языкам (китайский, япониский, корейский) по
вопросу иконизма. Однако, путем изменения списка ключевых слов и их весов приложение может быть переконфигурировано
под другие параметры поиска.

Результатом работы является список книг проходящих определенный порог отсечки (определяемый пользователем).

## Структура приложения

Для удобства работы приложение оформлено в виде следующих python скриптов:

 - `downloader.py` -- парсит полный список книг библиотеки и скачивает все книги в формате PDF (по умолчанию 
    в папку `downloads`). Внимание: скачивание полного набора книг может занять продолжительное время (на данный момент
    библиотека содержит 600+ книг).  
 - `scanner.py` -- последовательно сканирует все PDF-файлы в папке `downloads` и определеяет наличие ключевых слов.
    в зависимости от наличия ключевых слов определет "вес" для каждой книги. Выводит список книг с весом выше заданного
    порога (или полный список если порог не задан), осортированный в порядке убывания.  

## Список ключевых слов

Список ключевых слов задается в файле `keywords.json` в следующем формате:
```json
{
  "test1": 1,
  "test50": 50
}
```
в тестовом примере выше заданы два ключевых слова "test1" и "test2" с весами 1 и 50 соответсвенно. 

> При обработке регистр ключевых слов и регистр обрабатываемого текста не учитывается

## Запуск и использование

Перед запуском необходимо установить используемые пакеты:

```bash
pip install requests beautifulsoup4 urllib3 pymupdf tqdm
```
Конфигурация для каждого скрипта находится в начале файла. Приложение запускается последовательным исполнением скриптов
`downloader.py`:
```bash
python downloader.py
```
и `scanner.py`:
```bash
python scanner.py
```
                   
## Используемые пакеты 

Приложение использует следующие пакеты:

 - `requests` -- используется для скачивания страниц сайта и файлов PDF 
 - `beautifulsoup4` -- используется для парсинга HTML страниц сайта - поиск HTML-ссылок на страницы книг и последующий 
   поиск ссылок на сами PDF файлы 
 - `urllib3` -- удобные утилиты для работы с URL-адресами (соединение и парсинг)
 - `pymupdf` -- пакет работы с PDF -- используется функция экстракции текста из PDF файлов
 - `tqdm` -- отображение прогресса и примерного времени завершения для долгоидущих процессов 


